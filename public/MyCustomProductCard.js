import{useEffect as v}from"react";var c={REGISTERED:"maker-nav-component-registered",UNREGISTERED:"maker-nav-component-unregistered"},a=class t{constructor(){Object.defineProperty(this,"components",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"contentTypeMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),!(typeof window>"u")&&(typeof document>"u"||(window.__MAKER_NAV_COMPONENT_REGISTRY__={register:(e,r,n)=>{this.components.set(r,{contentType:e,render:n}),this.contentTypeMap.has(e)||this.contentTypeMap.set(e,new Set),this.contentTypeMap.get(e).add(r),window.dispatchEvent(new CustomEvent(c.REGISTERED,{detail:{contentType:e,componentId:r}}))},unregister:e=>{let r=this.components.get(e);if(r){let n=this.contentTypeMap.get(r.contentType);n&&(n.delete(e),n.size===0&&this.contentTypeMap.delete(r.contentType)),this.components.delete(e),window.dispatchEvent(new CustomEvent(c.UNREGISTERED,{detail:{componentId:e}}))}},list:()=>Array.from(this.components.entries()).map(([e,r])=>({componentId:e,contentType:r.contentType,render:r.render}))}))}static getInstance(){return t.instance||(t.instance=new t),t.instance}register(e,r,n){this.isRegistryAvailable()&&window.__MAKER_NAV_COMPONENT_REGISTRY__.register(e,r,n)}unregister(e){this.isRegistryAvailable()&&window.__MAKER_NAV_COMPONENT_REGISTRY__.unregister(e)}getRenderFunction(e){return window.__MAKER_NAV_COMPONENT_REGISTRY__.list().find(r=>r.componentId===e)?.render}isRegistryAvailable(){return typeof window<"u"&&!!window.__MAKER_NAV_COMPONENT_REGISTRY__}},i=a.getInstance();import{jsx as g}from"react/jsx-runtime";import{jsx as _}from"react/jsx-runtime";var u=window.__MAKER_REACT__,p=u.createContext({renderImage:t=>null}),R=()=>u.useContext(p);function l({renderImage:t,children:e}){return _(p.Provider,{value:{renderImage:t},children:e})}var m={Provider:l,useContext:R};var h=t=>{let{renderImage:e}=m.useContext();return typeof e=="function"?e(t):g("img",{src:t.src,alt:t.alt,loading:t.priority==0?"eager":"lazy",fetchpriority:t.priority==0?"high":"low",style:{objectFit:t.fit,objectPosition:"center",width:"100%",height:"100%",position:"absolute",top:0,left:0,zIndex:t.priority}})},d=h;import{jsx as G}from"react/jsx-runtime";import{useState as D}from"react";import{Component as S}from"react";import F,{useEffect as Y}from"react";var f=window.__MAKER_REACT__;import{jsx as o,jsxs as s}from"react/jsx-runtime";var E=t=>{let[e,r]=f.useState(0);return s("div",{style:{display:"flex",flexDirection:"column"},children:[o("div",{style:{position:"relative",width:"100%",paddingBottom:"100%"},children:o(d,{src:"https://placekitten.com/200/300",alt:"Kitten",fit:"cover",priority:0})}),s("div",{children:["ID: ",o("b",{children:t.data.id})]}),s("div",{children:["Name: ",o("b",{children:t.data.name})]}),o("div",{children:s("button",{onClick:()=>r(e+1),children:["Clicked ",e," times"]})})]})};i.register("product","my-custom-product-card",E);var ee=E;export{E as Component,ee as default};
