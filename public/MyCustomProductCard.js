import T from"react";window.__MAKER_REACT__=window.__MAKER_REACT__||T;var n=window.__MAKER_REACT__;var R="maker-nav-importmap",S={imports:{react:"https://esm.sh/react@16.14.0","react-dom":"https://esm.sh/react@16.14.0","react/jsx-runtime":"https://esm.sh/react@16.14.0/jsx-runtime"}},g=()=>{if(typeof window>"u"||typeof document>"u"||document.getElementById(R))return;let e=document.createElement("script");e.innerHTML=JSON.stringify(S),e.type="importmap",e.id=R,document.head.appendChild(e)};var w={REGISTERED:"maker-nav-component-registered",UNREGISTERED:"maker-nav-component-unregistered"},l=class e{constructor(){Object.defineProperty(this,"components",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),!(typeof window>"u")&&(typeof document>"u"||(g(),window.__MAKER_NAV_COMPONENT_REGISTRY__={register:(t,r,o)=>{this.components.set(r,{contentType:t,render:o}),window.dispatchEvent(new CustomEvent(w.REGISTERED,{detail:{contentType:t,componentId:r}}))},unregister:t=>{this.components.get(t)&&(this.components.delete(t),window.dispatchEvent(new CustomEvent(w.UNREGISTERED,{detail:{componentId:t}})))},list:()=>Array.from(this.components.entries()).map(([t,r])=>({componentId:t,contentType:r.contentType,render:r.render}))}))}static getInstance(){if(typeof window<"u"&&window.__MAKER_COMPONENT_REGISTRY_INSTANCE__)return window.__MAKER_COMPONENT_REGISTRY_INSTANCE__;let t=new e;return typeof window<"u"&&(window.__MAKER_COMPONENT_REGISTRY_INSTANCE__=t),t}register(t,r,o){this.isRegistryAvailable()&&window.__MAKER_NAV_COMPONENT_REGISTRY__.register(t,r,o)}unregister(t){this.isRegistryAvailable()&&window.__MAKER_NAV_COMPONENT_REGISTRY__.unregister(t)}getRenderFunction(t){return window.__MAKER_NAV_COMPONENT_REGISTRY__.list().find(r=>r.componentId===t)?.render}isRegistryAvailable(){return typeof window<"u"&&!!window.__MAKER_NAV_COMPONENT_REGISTRY__}},u=l.getInstance();import{jsx as I}from"react/jsx-runtime";import{jsx as A}from"react/jsx-runtime";window.__MAKER_SHARED_COMPONENTS_CONTEXT__=window.__MAKER_SHARED_COMPONENTS_CONTEXT__||n.createContext({renderImage:void 0,renderVideo:void 0,renderProductLink:void 0,renderCategoryLink:void 0});var h=window.__MAKER_SHARED_COMPONENTS_CONTEXT__,M=()=>n.useContext(h);function y({renderImage:e,renderVideo:t,renderProductLink:r,renderCategoryLink:o,children:a}){return A(h.Provider,{value:{renderImage:e,renderVideo:t,renderProductLink:r,renderCategoryLink:o},children:a})}var s={Provider:y,useContext:M};var O=e=>{let{renderImage:t}=s.useContext();return typeof t=="function"?t(e):I("img",{src:e.src,alt:e.alt,loading:e.priority==0?"eager":"lazy",fetchpriority:e.priority==0?"high":"low",style:{objectFit:e.fit,objectPosition:"center",width:"100%",height:"100%",position:"absolute",top:0,left:0}})},m=O;import{jsx as q}from"react/jsx-runtime";import{jsx as i}from"react/jsx-runtime";var N=({props:e,children:t})=>n.cloneElement(t,{...e}),P=e=>e.target==="product"?i(b,{...e}):e.target==="category"?i(k,{...e}):i(_,{...e}),_=({children:e,...t})=>i("a",{...t,children:e}),b=({productId:e,variantId:t,categoryId:r,href:o,children:a,target:c,...p})=>{let{renderProductLink:E}=s.useContext();return typeof E=="function"?i(N,{props:p,children:E({productId:e,variantId:t,categoryId:r,href:o,children:a,target:c})}):i(_,{href:o,target:"_top",...p,children:a})},k=({categoryId:e,href:t,children:r,target:o,...a})=>{let{renderCategoryLink:c}=s.useContext();return typeof c=="function"?i(N,{props:a,children:c({categoryId:e,href:t,children:r,target:o})}):i(_,{href:t,target:"_top",...a,children:r})},f=P;import{jsx as de}from"react/jsx-runtime";import ce from"react";var v=class extends n.Component{constructor(){super(...arguments),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:{hasError:!1}})}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){console.error("Error caught in ErrorBoundary:",t,r)}render(){return this.state.hasError?this.props.fallback:this.props.children}};import{jsx as d,jsxs as x}from"react/jsx-runtime";var C=e=>{let[t,r]=n.useState(!1);return x(f,{target:"product",href:e.data.link,productId:e.data.id,categoryId:e.data.categoryId,onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[x("div",{style:{position:"relative",aspectRatio:"3/4",width:"100%"},children:[d(m,{src:e.data.variants[0].imageLink,alt:e.data.title,fit:"cover",priority:1}),d("div",{style:{opacity:t?1:0,position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"#fff"},children:d(m,{src:e.data.variants[0].additionalImageLinks[0],alt:e.data.title,fit:"cover",priority:1})})]}),d("div",{children:e.data.title}),d("div",{children:d("b",{children:e.data.variants[0].price})}),d(f,{href:e.data.link,target:"_blank",onClick:o=>o.stopPropagation(),children:"Open Product"})]})};u.register("product-card","my-custom-product-card",C);var Me=C;export{C as Component,Me as default};
